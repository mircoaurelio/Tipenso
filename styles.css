 
        body {
            margin: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100vh;
            background: #000;
            font-family: "Pixelated MS Sans Serif", Arial;
            touch-action: manipulation; /* Improves touch performance */
        }
        #visualizer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        .window {
            position: absolute;
            z-index: 10; /* Increased z-index */
          
            resize: both;
            overflow: hidden;
            min-width: 300px;
            background: rgba(236, 233, 216, 0.95);
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
            transition: width 0.3s ease, height 0.3s ease, top 0.3s ease, left 0.3s ease, transform 0.3s ease;
        }
        
        /* Compact mode for the window - shows more background */
        .window.compact-mode {
            background: rgba(236, 233, 216, 0.85);
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        
        /* Modal visualizer styles */
        .modal-visualizer-container {
            position: relative;
            width: 100%;
            height: 352px;
            
            border: 1px solid #999;
            border-radius: 5px;
            overflow: hidden;
            background-color: #000;
            transition: height 0.3s ease, min-height 0.3s ease, display 0.1s ease;
        }
        
        #modal-visualizer {
            width: 100%;
            height: 100%;
            display: block;
            background-color: #000;
        }
        
        .visualization-status {
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 5px;
            background: rgba(0,0,0,0.5);
            color: white;
            border-radius: 3px;
            font-size: 12px;
            pointer-events: none;
            transition: opacity 0.3s ease;
            opacity: 0;
            display: none;
        }
        
        /* Hide visualizer on compact mode */
        .compact-mode .modal-visualizer-container {
            display: none;
        }
        
        /* Improved styles for Spotify iframe visibility */
        .player-container {
            position: relative;
            z-index: 15; /* Higher than window */
            min-height: 152px;
            height: 152px;
            
            display: block !important;
            visibility: visible !important;
            width: 100%;
            overflow: visible;
            background-color: rgb(70 86 78);
        }
        
        #spotify-player,
        #spotify-embed-iframe,
        #spotify-embed-iframe iframe {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            z-index: 0; /* Even higher */
            position: relative;
            border-radius: 12px;
            min-height: 152px;
            width: 100%;
            background-color: white;
            border: none;
        }
        
        /* Force iframe content to be visible */
        iframe {
            background-color: white;
        }
        
        /* Enhance the glass effect for all maximized windows */
        .window.maximized {
            width: 100% !important;
            max-width: 100% !important;
            width: 100vw !important;
            height: calc(100vh - 40px) !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            margin: 0 !important;
            position: fixed !important;
            transition: all 0.3s ease;
            transform: none !important;
            border-radius: 0 !important;
            overflow: hidden !important;
            box-sizing: border-box !important;
            padding: 0 !important;
            bottom: 40px !important;
            
            /* Enhanced Windows glass effect */
            background-color: rgba(236, 233, 216, 0.7) !important; /* More transparent for better glass effect */
            backdrop-filter: blur(15px) saturate(125%) !important; /* Increased blur and saturation for more noticeable effect */
            -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
            border: 1px solid rgba(255, 255, 255, 0.6) !important; /* Slightly more visible border */
        }
        
        /* Enhanced Windows title bar for maximized state */
        .window.maximized .title-bar {
            background: linear-gradient(180deg, rgba(40, 110, 220, 0.9) 0%, rgba(36, 100, 210, 0.9) 50%, rgba(30, 90, 200, 0.9) 100%) !important;
            backdrop-filter: blur(10px) !important;
            -webkit-backdrop-filter: blur(10px) !important;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2) !important;
            padding: 5px 10px !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3) !important;
        }
        
        .window.maximized .title-bar-text {
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
            font-weight: bold !important;
        }
        
        /* Fix specifically for the WMP window when maximized */
        #wmp-window.maximized {
            width: 100% !important;
            max-width: 100% !important;
            width: 100vw !important;
            height: calc(100vh - 40px) !important; /* Default for desktop */
            max-width: none !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            margin: 0 !important;
            z-index: 2000 !important;
            border-radius: 0 !important;
            overflow: hidden !important;
            box-sizing: border-box !important;
            padding: 0 !important;
            right: 0 !important;
            bottom: 60px !important;
            
            /* Enhanced Windows glass effect for WMP specifically */
            background-color: rgba(236, 233, 216, 0.7) !important;
            backdrop-filter: blur(15px) saturate(125%) !important;
            -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
            border: 1px solid rgba(255, 255, 255, 0.6) !important;
        }
        
        /* Additional styling for WMP in maximized state */
        #wmp-window.maximized .modal-visualizer-container {
            visibility: visible !important;
            display: block !important;
            height: calc(100vh - 280px) !important;
            min-height: 300px !important;
            border: 1px solid rgba(255, 255, 255, 0.4) !important;
            background-color: rgba(0, 0, 0, 0.7) !important;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3) !important;
        }
        
        .window.minimized {
            display: none !important;
        }
        .title-bar {
            background: linear-gradient(180deg, #0058ee 0%, #3a93ff 10%, #288eff 50%, #0058ee 100%);
            padding: 3px 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none; /* Prevent text selection during drag */
            touch-action: none; /* Prevent touch scrolling for this element */
        }
        .title-bar-text {
            color: white;
            font-weight: bold;
        }
         
        .controls {
            display: none;
            gap: 10px;
            margin-top: 10px;
        }
        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            width: 100%; /* Ensure full width */
            height: 40px;
            background: linear-gradient(to bottom, #1f2f86 0%, #2b44a6 3%, #3b5bdb 6%, #3a59d7 10%, #4b6af5 12%, #4b6af5 21%, #4b6af5 24%, #4b6af5 27%, #4464ee 30%, #4464ee 34%, #4464ee 36%, #425de7 40%, #425de7 44%, #425de7 51%, #425de7 52%, #4b6af5 54%, #4b6af5 57%, #4b6af5 61%, #4b6af5 64%, #4b6af5 67%, #4b6af5 100%);
            z-index: 200000;
            display: flex;
            align-items: center;
             
            border-top: 1px solid #6787e3;
            box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.3);
            box-sizing: border-box; /* Include padding in width calculation */
            overflow: hidden; /* Prevent overflow */
        }
        .start-button {
            height: 36px;
            padding: 1px 8px;
            
            display: flex;
            align-items: center;
            background: linear-gradient(to bottom, #3ba13b 0%, #3ba13b 12%, #40ab40 25%, #40ab40 37%, #45b645 50%, #45b645 62%, #51c751 75%, #51c751 87%, #47b847 100%);
            border: 1px solid #249524;
            border-radius: 3px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
            min-width: 80px; /* Reduced from 90px */
            justify-content: center;
        }
        .start-button:hover {
            background: linear-gradient(to bottom, #4cc24c 0%, #4cc24c 12%, #52d152 25%, #52d152 37%, #59db59 50%, #59db59 62%, #66e666 75%, #66e666 87%, #59db59 100%);
        }
        .start-button:active, .start-button.active {
            background: linear-gradient(to bottom, #33a033 0%, #33a033 12%, #37aa37 25%, #37aa37 37%, #3cb53c 50%, #3cb53c 62%, #45c045 75%, #45c045 87%, #3cb53c 100%);
            box-shadow: inset 1px 1px 3px rgba(0, 0, 0, 0.3);
        }
        .start-button img {
            height: 24px; /* Slightly reduced */
            margin-right: 4px; /* Reduced from 6px */
            margin-left: 2px;
            object-fit: contain; /* Prevents stretching */
            max-width: 100%; /* Ensures image stays within container */
        }
        .active-programs {
            display: flex;
            margin-left: 5px;
            gap: 3px;
            height: 32px;
            margin-top: 2px;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            flex: 1;
            padding-bottom: 4px;
        }
        .program-button {
            padding: 1px 8px; /* Reduced from 10px */
            background: linear-gradient(to bottom, #4b6af5 0%, #3955c9 100%);
            border: 1px solid #1f2f86;
            border-radius: 3px;
            color: white;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px; /* Reduced from 5px */
            height: 28px;
            min-width: 110px; /* Reduced from 120px */
            flex-shrink: 0;
        }
        .program-button:hover {
            background: linear-gradient(to bottom, #5c7bff 0%, #4a66da 100%);
        }
        .program-button.active {
            background: linear-gradient(to bottom, #4060e0 0%, #304db3 100%);
            box-shadow: inset 1px 1px 3px rgba(0, 0, 0, 0.2);
        }
        .program-button img {
            height: 24px; /* Bigger icon */
            width: 24px;
            object-fit: contain;
        }
        .taskbar-time {
            position: relative;
            margin-left: auto;
            color: white;
            font-size: 12px; /* Slightly reduced */
            padding: 4px 8px; /* Reduced horizontal padding */
            background: linear-gradient(to bottom, #4b6af5 0%, #3955c9 100%);
            border: 1px solid #1f2f86;
            border-radius: 3px;
            height: 24px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-right: 5px;
            font-weight: bold;
            min-width: 55px; /* Set minimum width */
        }
        .time-display {
            line-height: 1.1;
        }
        .date-display {
            font-size: 9px; /* Smaller date text */
            font-weight: normal;
            line-height: 1;
        }
        .quick-launch {
            display: flex;
            align-items: center;
            gap: 3px; /* Reduced from 4px */
            margin-left: 4px; /* Reduced from 5px */
            padding-left: 4px; /* Reduced from 5px */
            border-left: 1px solid #6787e3;
            height: 32px;
        }
        .quick-launch-icon {
            width: 26px; /* Reduced from 28px */
            height: 26px; /* Reduced from 28px */
            padding: 3px;
            background: transparent;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .quick-launch-icon:hover {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
        }
        .quick-launch-icon img {
            width: 24px; /* Bigger icon */
            height: 24px; /* Make icons square and consistent with desktop */
            object-fit: contain;
            max-width: 100%;
            max-height: 100%;
        }
        
        /* Specifically update the mobile version */
        @media (max-width: 768px) {
            .quick-launch-icon img {
                width: 24px; /* Bigger icon */
                height: 24px; /* Make icons square and consistent */
                object-fit: contain;
            }
        }
        
        /* Link styles for IE window */
        .ie-links {
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding: 5px 0;
        }
        .ie-link {
            display: flex;
            align-items: center;
            padding: 5px;
            text-decoration: none;
            color: #0000EE;
            gap: 8px;
            border-radius: 2px;
        }
        .ie-link:hover {
            background-color: #E8E8F8;
        }
        .ie-link img {
            width: 24px;
            height: 24px;
            object-fit: contain;
        }
        .ie-address-bar {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            border: 1px solid #919B9C;
            background: white;
            padding: 3px 5px;
            font-size: 12px;
        }
        .ie-address-bar span {
            margin-right: 5px;
            font-weight: bold;
        }
        .window.ie-window {
            width: 400px;
            top: 40px;
            height: 350px;
        }
        .window-toolbar {
            border-bottom: 1px solid #919B9C;
            padding: 3px;
            display: flex;
            gap: 5px;
            background: #ECE9D8;
        }
        .toolbar-button {
            min-height: 22px;
            padding: 2px 5px;
            margin: 0;
            font-size: 11px;
        }
        
        /* Windows XP-style notification */
        .xp-notification {
            position: fixed;
            bottom: 60px;
            right: 20px;
            background: linear-gradient(to bottom, #EDF6FF 0%, #D0E6F9 50%, #C4E0FC 51%, #ABD4FC 100%);
            border: 1px solid #7BA7E1;
            border-radius: 3px;
            padding: 12px 20px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
            color: #000;
            font-size: 14px;
            z-index: 2000;
            max-width: 90%;
            animation: slideIn 0.3s forwards;
            font-family: "Tahoma", sans-serif;
        }
        .xp-notification.fadeOut {
            animation: fadeOut 0.5s forwards;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        
        /* Better button styles for mobile */
        button {
            min-height: 28px;
            touch-action: manipulation;
        }
        
        @media (max-width: 768px) {
            .taskbar {
                height: 50px; /* Slightly reduced height */
                padding: 0 2px;
                width: 100%; /* Ensure full width */
                left: 0;
                right: 0;
            }
            
            .start-button {
                height: 40px; /* Smaller height */
                min-width: 70px; /* Smaller width */
                padding: 1px 5px;
                font-size: 14px;
                margin: 0 3px 0 1px;
            }
            
            .start-button img {
                height: 20px; /* Smaller icon */
                width: 20px;
                margin-right: 4px;
                object-position: center;
            }
            
            .quick-launch {
                gap: 3px;
                height: 40px;
                margin-left: 3px;
                padding-left: 3px;
            }
            
            .quick-launch-icon {
                width: 30px; /* Smaller */
                height: 30px;
                padding: 3px;
            }
            
            .quick-launch-icon img {
                width: 24px; /* Smaller icon */
                height: 24px;
            }
            
            .program-button {
                height: 36px;
                min-width: 100px; /* Reduced width */
                font-size: 11px; /* Smaller text */
                padding: 1px 6px;
            }
            
            .program-button img {
                height: 24px; /* Bigger icon */
                width: 24px;
                margin-right: 3px;
                object-fit: contain;
            }
            
            .active-programs {
                height: 38px;
                margin-top: 2px;
                display: none;
            }
            
            .taskbar-time {
                height: 32px;
                font-size: 13px;
                padding: 2px 6px;
                margin-right: 4px;
                min-width: 50px;
            }
            
            .date-display {
                font-size: 8px;
            }
            
            /* Larger tap targets for mobile */
            button {
                padding: 10px 15px;
                min-height: 44px;
                font-size: 16px;
            }
            
            /* Fix window sizing on mobile */
            .window {
                width: 85vw;
                max-width: 500px;
                 
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            }
            
            /* Larger title bar for easier dragging on mobile */
            .title-bar {
                padding: 8px 10px;
                height: 24px;
            }
            
            /* Make the window title text larger on mobile */
            .title-bar-text {
                font-size: 16px;
            }
            
            /* Make the window control buttons larger for mobile */
            .title-bar-controls button {
                min-width: 30px;
                min-height: 30px;
                margin-left: 4px;
            }
            
            /* Make the XP notification bigger on mobile */
            .xp-notification {
                padding: 15px 20px;
                font-size: 16px;
                bottom: 70px;
            }
            
            /* Adjust IE window for mobile */
            .window.ie-window {
                width: 85vw;
                top:40px;
                height: 70vh;
            }
            
            .ie-link {
                padding: 8px 5px;
            }
            
            /* Hide toggle and kaleidoscope buttons on mobile */
            .btn-toggle-play, 
            .btn-kaleidoscope, 
            .btn-debug {
                display: none !important;
            }
            
            /* Simplified controls for mobile */
            .controls {
                margin-top: 10px;
                display: none;
                justify-content: space-around;
                align-items: center;
                width: 100%;
            }
            
            .controls button {
                margin: 0 5px;
                height: 40px;  /* Bigger touch target */
                min-width: 80px;
                font-size: 14px;
                padding: 8px 12px;
                border: 2px solid rgba(255,255,255,0.2);
                box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                border-radius: 6px;
                z-index: 100;  /* Ensure buttons are above other elements */
                position: relative;
                touch-action: manipulation;  /* Improve touch handling */
                -webkit-tap-highlight-color: rgba(0,0,0,0);  /* Remove default mobile tap highlight */
            }
            
            /* Visual feedback for active state */
            .controls button:active {
                background-color: rgba(255,255,255,0.3) !important;
                transform: scale(0.97);
            }
            
            #spotify-click-detector {
                pointer-events: none; /* Ensure this doesn't block clicks */
            }
            
            .player-container {
                background-color: rgb(70, 86, 78);
                height: 152px; /* Exact height to prevent resizing */
                width: 100%;
                overflow: hidden;
                box-sizing: border-box;
            }
            
            #spotify-player {
                display: block;
                visibility: visible;
                position: relative;
                z-index: 0;
                overflow: hidden;
                background-color: white;
                height: 152px;
                width: 100%;
            }
            
            #spotify-embed-iframe, 
            #spotify-embed-iframe iframe {
                display: block;
                visibility: visible;
                position: relative;
                z-index: 0;
                background-color: white;
                height: 152px;
                width: 100%;
            }
            
            /* Debugging - Mark buttons to see if they're visibly rendered correctly */
            .controls:after {
                content: "";
                display: block;
                clear: both;
            }
            
            /* Modal visualizer container for mobile */
            .modal-visualizer-container {
                height: 352px;
                min-height: 250px;
                z-index: 5;
            }
            
            /* Ensure WMP window has proper z-index */
            #wmp-window {
                z-index: 1000;
                position: relative;
            }
            
            /* Fix for any potential issues with bubbling */
            html, body {
                touch-action: manipulation;
                -webkit-overflow-scrolling: touch;
            }
            
            /* Make share button more visible on mobile */
            .share-button {
                width: 44px;
                height: 44px;
                bottom: 12px;
                right: 12px;
                background-color: rgba(255, 255, 255, 0.95);
                box-shadow: 0 2px 8px rgba(0,0,0,0.4);
            }
            
            .share-button svg {
                width: 20px;
                height: 20px;
            }
            
            /* Expanded view for mobile */
            @media (max-width: 768px) {
                .window.maximized .modal-visualizer-container {
                    height: calc(100vh - 380px) !important;
                    min-height: 300px !important;
                    transition: height 0.3s ease;
                    visibility: visible !important;
                    display: block !important;
                    border: 1px solid rgba(255, 255, 255, 0.4) !important;
                    background-color: rgba(0, 0, 0, 0.7) !important;
                    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3) !important;
                }
                
                /* Enhanced Windows title bar for maximized state on mobile */
                .window.maximized .title-bar {
                    background: linear-gradient(180deg, rgba(40, 110, 220, 0.9) 0%, rgba(36, 100, 210, 0.9) 50%, rgba(30, 90, 200, 0.9) 100%) !important;
                    backdrop-filter: blur(10px) !important;
                    -webkit-backdrop-filter: blur(10px) !important;
                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2) !important;
                    padding: 8px 10px !important; /* Slightly larger padding for mobile */
                    border-bottom: 1px solid rgba(255, 255, 255, 0.3) !important;
                }
                
                .window.maximized {
                    width: 100% !important;
                    max-width: 100% !important;
                    width: 100vw !important;
                    height: calc(100vh - 40px) !important; /* Mobile has 70px taskbar */
                    top: 0 !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 !important;
                    position: fixed !important;
                    transition: all 0.3s ease;
                    transform: none !important;
                    border-radius: 0 !important;
                    overflow: hidden !important;
                    box-sizing: border-box !important;
                    padding: 0 !important;
                    bottom: 70px !important; /* Also update bottom */
                    
                    /* Enhanced Windows glass effect for mobile */
                    background-color: rgba(236, 233, 216, 0.7) !important;
                    backdrop-filter: blur(15px) saturate(125%) !important;
                    -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                    border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
                
                #wmp-window.maximized {
                    height: calc(100vh - 40px) !important; /* Taskbar is 40px */
                    bottom: 40px !important;
                    
                    /* Windows glass effect for mobile */
                    background-color: rgba(236, 233, 216, 0.7) !important;
                    backdrop-filter: blur(15px) saturate(125%) !important;
                    -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                    border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
            }
        }
        
        /* Handle screen orientation changes */
        @media (orientation: landscape) and (max-height: 500px) {
            .taskbar {
                height: 38px; /* Even smaller in landscape */
                padding: 0 2px;
            }
            
            .window {
                max-height: calc(100vh - 50px);
            }
            
            /* Adjust icons for landscape */
            .start-button {
                height: 32px;
                min-width: 65px;
                font-size: 12px;
            }
            
            .start-button img {
                height: 18px;
                width: 18px;
            }
            
            .quick-launch-icon {
                width: 32px; /* Increased from 24px */
                height: 32px; /* Increased from 24px */
            }
            
            .quick-launch-icon img {
                width: 24px; /* Increased from 14px to match desktop */
                height: 24px; /* Increased from 14px to match desktop */
                object-fit: contain;
            }
            
            .quick-launch {
                height: 30px;
            }
            
            .active-programs {
                height: 30px;
            }
            
            .program-button {
                height: 28px;
                min-width: 90px;
                font-size: 10px;
            }
            
            .taskbar-time {
                height: 26px;
                padding: 1px 5px;
            }
        }

        /* Base styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        /* Make sure buttons are always clickable */
        button {
            cursor: pointer;
            position: relative;
            z-index: 50;
        }
        
        /* Ensure the spotify-click-detector doesn't block button interaction */
        #spotify-click-detector {
            z-index: 1;
            position: absolute;
            pointer-events: none;
        }
        
        /* Existing styles continue below */
        .player-container {
            background-color: rgb(70, 86, 78);
            height: 152px; /* Exact height to prevent resizing */
            width: 100%;
            position: relative; /* Restore position */
            z-index: 10; /* Restore z-index */
            
            overflow: hidden;
            box-sizing: border-box;
        }
        
        /* Ensure the controls always have a higher z-index than other elements */
        .controls {
            position: relative;
            z-index: 100;
        }

        /* Windows XP Loading Screen Styles */
        .windows-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a246a; /* Classic Windows XP blue */
            z-index: 100000000000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }
        
        .windows-loading-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loading-content {
            text-align: center;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .loading-text {
            font-size: 24px;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .loading-description {
            margin-top: 15px;
            font-size: 14px;
            opacity: 0.8;
        }
        
        /* Windows XP logo animation */
        .windows-logo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 8px;
            width: 120px;
            height: 120px;
            margin: 0 auto 30px auto;
        }
        
        .windows-flag {
            border-radius: 5px;
            filter: drop-shadow(0 0 3px rgba(0, 0, 0, 0.3));
            animation: flag-wave 3s infinite;
            position: relative;
            overflow: hidden;
        }
        
        .windows-flag img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .windows-flag::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            mix-blend-mode: multiply;
            opacity: 0.7;
        }
        
        .windows-flag.red::after {
            background-color: #f65314;
        }
        
        .windows-flag.red {
            animation-delay: 0s;
        }
        
        .windows-flag.green::after {
            background-color: #7cbb00;
        }
        
        .windows-flag.green {
            animation-delay: 0.25s;
        }
        
        .windows-flag.blue::after {
            background-color: #00a1f1;
        }
        
        .windows-flag.blue {
            animation-delay: 0.5s;
        }
        
        .windows-flag.yellow::after {
            background-color: #ffbb00;
        }
        
        .windows-flag.yellow {
            animation-delay: 0.75s;
        }
        
        @keyframes flag-wave {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(0.9);
                opacity: 0.8;
            }
        }
        
        /* Mobile optimizations for loading screen */
        @media (max-width: 768px) {
            /* Removed loading bar container mobile styles */
            
            .loading-text {
                font-size: 20px;
            }
            
            .windows-logo {
                width: 100px;
                height: 100px;
            }
        }
        
        /* Share button style */
        .share-button {
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 25;
            background: linear-gradient(to bottom, #EDF6FF 0%, #D0E6F9 50%, #C4E0FC 51%, #ABD4FC 100%);
            border: 1px solid #7BA7E1;
            border-radius: 3px;
            width: auto;
            height: auto;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            transition: all 0.2s ease;
            font-family: 'Tahoma', sans-serif;
        }
        
        .share-button:hover {
            background: linear-gradient(to bottom, #F3FAFF 0%, #E2F0FC 50%, #D6EDFF 51%, #C1E3FF 100%);
            border-color: #8CB8F3;
            transform: scale(1.02);
            box-shadow: 0 3px 7px rgba(0,0,0,0.3);
        }
        
        .share-button:active {
            background: linear-gradient(to bottom, #C1E3FF 0%, #D6EDFF 50%, #E2F0FC 51%, #F3FAFF 100%);
            transform: scale(0.98);
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        
        @media (max-width: 768px) {
            /* Mobile-specific styles */
            /* ... existing code ... */
            
            /* Make share button visible on mobile and style it properly */
            .share-button {
                bottom: 12px;
                right: 12px;
                display: flex;
                background: linear-gradient(to bottom, #EDF6FF 0%, #D0E6F9 50%, #C4E0FC 51%, #ABD4FC 100%);
                box-shadow: 0 2px 8px rgba(0,0,0,0.4);
                border-radius: 3px;
                width: auto;
                padding: 8px 12px;
                border: 1px solid #7BA7E1;
                font-family: "Tahoma", sans-serif;
            }
            
            .share-button span {
                font-size: 14px;
                font-weight: bold;
                color: #000;
                text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
            }
            
            .share-button svg {
                width: 16px;
                height: 16px;
                color: #0046D5;
            }
            
            /* Enhanced controls for mobile */
            .controls {
                display: none !important;
                padding: 10px 5px;
                margin-top: 10px;
                justify-content: space-around;
            }
            
            .controls button {
                padding: 10px 15px;
                font-size: 14px;
                min-height: 44px;
                min-width: 80px;
                margin: 0 3px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            }
            
            .controls button:active {
                background: linear-gradient(to bottom, #C1E3FF 0%, #D6EDFF 50%, #E2F0FC 51%, #F3FAFF 100%);
                transform: scale(0.97);
            }
            
            /* Ensure maximize/expand works properly on mobile */
            .window.maximized {
                width: 100% !important;
                max-width: 100% !important;
                width: 100vw !important;
                height: calc(100vh - 40px) !important; /* Mobile has 70px taskbar */
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                margin: 0 !important;
                position: fixed !important;
                transition: all 0.3s ease;
                transform: none !important;
                border-radius: 0 !important;
                overflow: hidden !important;
                box-sizing: border-box !important;
                padding: 0 !important;
                bottom: 40px !important; /* Also update bottom */
                
                /* Windows glass effect for mobile */
                background-color: rgba(236, 233, 216, 0.7) !important;
                backdrop-filter: blur(15px) saturate(125%) !important;
                -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
                
                #wmp-window.maximized {
                height: calc(100vh - 40px) !important; /* Taskbar is 40px */
                bottom: 40px !important;
                    
                    /* Windows glass effect for mobile */
                background-color: rgba(236, 233, 216, 0.7) !important;
                backdrop-filter: blur(15px) saturate(125%) !important;
                -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                border: 1px solid rgba(255, 255, 255, 0.6) !important;
            }
            
            .ie-link {
                padding: 8px 5px;
            }
            
            /* Hide toggle and kaleidoscope buttons on mobile */
            .btn-toggle-play, 
            .btn-kaleidoscope, 
            .btn-debug {
                display: none !important;
            }
            
            /* Simplified controls for mobile */
            .controls {
                margin-top: 10px;
                display: none;
                justify-content: space-around;
                align-items: center;
                width: 100%;
            }
            
            .controls button {
                margin: 0 5px;
                height: 40px;  /* Bigger touch target */
                min-width: 80px;
                font-size: 14px;
                padding: 8px 12px;
                border: 2px solid rgba(255,255,255,0.2);
                box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                border-radius: 6px;
                z-index: 100;  /* Ensure buttons are above other elements */
            position: relative;
                touch-action: manipulation;  /* Improve touch handling */
                -webkit-tap-highlight-color: rgba(0,0,0,0);  /* Remove default mobile tap highlight */
            }
            
            /* Visual feedback for active state */
            .controls button:active {
                background-color: rgba(255,255,255,0.3) !important;
                transform: scale(0.97);
            }
            
            #spotify-click-detector {
                pointer-events: none; /* Ensure this doesn't block clicks */
            }
            
            .player-container {
                background-color: rgb(70, 86, 78);
                height: 152px; /* Exact height to prevent resizing */
                width: 100%;
            overflow: hidden;
                box-sizing: border-box;
            }
            
            #spotify-player {
                display: block;
                visibility: visible;
                position: relative;
                z-index: 0;
                overflow: hidden;
                background-color: white;
                height: 152px;
                width: 100%;
            }
            
            #spotify-embed-iframe, 
            #spotify-embed-iframe iframe {
                display: block;
                visibility: visible;
                position: relative;
                z-index: 0;
                background-color: white;
                height: 152px;
                width: 100%;
            }
            
            /* Debugging - Mark buttons to see if they're visibly rendered correctly */
            .controls:after {
                content: "";
                display: block;
                clear: both;
            }
            
            /* Modal visualizer container for mobile */
            .modal-visualizer-container {
                height: 352px;
                min-height: 250px;
                z-index: 5;
            }
            
            /* Ensure WMP window has proper z-index */
            #wmp-window {
                z-index: 1000;
                position: relative;
            }
            
            /* Fix for any potential issues with bubbling */
            html, body {
                touch-action: manipulation;
                -webkit-overflow-scrolling: touch;
            }
            
            /* Make share button more visible on mobile */
            .share-button {
                width: 44px;
                height: 44px;
                bottom: 12px;
                right: 12px;
                background-color: rgba(255, 255, 255, 0.95);
                box-shadow: 0 2px 8px rgba(0,0,0,0.4);
            }
            
            .share-button svg {
                width: 20px;
                height: 20px;
            }
            
            /* Expanded view for mobile */
            @media (max-width: 768px) {
                .window.maximized .modal-visualizer-container {
                    height: calc(100vh - 380px) !important;
                    min-height: 300px !important;
                    transition: height 0.3s ease;
                    visibility: visible !important;
                    display: block !important;
                    border: 1px solid rgba(255, 255, 255, 0.4) !important;
                    background-color: rgba(0, 0, 0, 0.7) !important;
                    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3) !important;
                }
                
                /* Enhanced Windows title bar for maximized state on mobile */
                .window.maximized .title-bar {
                    background: linear-gradient(180deg, rgba(40, 110, 220, 0.9) 0%, rgba(36, 100, 210, 0.9) 50%, rgba(30, 90, 200, 0.9) 100%) !important;
                    backdrop-filter: blur(10px) !important;
                    -webkit-backdrop-filter: blur(10px) !important;
                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2) !important;
                    padding: 8px 10px !important; /* Slightly larger padding for mobile */
                    border-bottom: 1px solid rgba(255, 255, 255, 0.3) !important;
                }
                
                .window.maximized {
                    width: 100% !important;
                    max-width: 100% !important;
                    width: 100vw !important;
                    height: calc(100vh - 40px) !important; /* Mobile has 70px taskbar */
                    top: 0 !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 !important;
                    position: fixed !important;
                    transition: all 0.3s ease;
                    transform: none !important;
                    border-radius: 0 !important;
                    overflow: hidden !important;
                    box-sizing: border-box !important;
                    padding: 0 !important;
                    bottom: 70px !important; /* Also update bottom */
                    
                    /* Enhanced Windows glass effect for mobile */
                    background-color: rgba(236, 233, 216, 0.7) !important;
                    backdrop-filter: blur(15px) saturate(125%) !important;
                    -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                    border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
                
                #wmp-window.maximized {
                    height: calc(100vh - 40px) !important; /* Taskbar is 40px */
                    bottom: 40px !important;
                    
                    /* Windows glass effect for mobile */
                    background-color: rgba(236, 233, 216, 0.7) !important;
                    backdrop-filter: blur(15px) saturate(125%) !important;
                    -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                    border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
            }
        }
        
        /* Handle screen orientation changes */
        @media (orientation: landscape) and (max-height: 500px) {
            .taskbar {
                height: 38px; /* Even smaller in landscape */
                padding: 0 2px;
            }
            
            .window {
                max-height: calc(100vh - 50px);
            }
            
            /* Adjust icons for landscape */
            .start-button {
                height: 32px;
                min-width: 65px;
                font-size: 12px;
            }
            
            .start-button img {
                height: 18px;
                width: 18px;
            }
            
            .quick-launch-icon {
                width: 32px; /* Increased from 24px */
                height: 32px; /* Increased from 24px */
            }
            
            .quick-launch-icon img {
                width: 24px; /* Increased from 14px to match desktop */
                height: 24px; /* Increased from 14px to match desktop */
                object-fit: contain;
            }
            
            .quick-launch {
                height: 30px;
            }
            
            .active-programs {
                height: 30px;
            }
            
            .program-button {
                height: 28px;
                min-width: 90px;
                font-size: 10px;
            }
            
            .taskbar-time {
                height: 26px;
                padding: 1px 5px;
            }
        }

        /* Base styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        /* Make sure buttons are always clickable */
        button {
            cursor: pointer;
            position: relative;
            z-index: 50;
        }
        
        /* Ensure the spotify-click-detector doesn't block button interaction */
        #spotify-click-detector {
            z-index: 1;
            position: absolute;
            pointer-events: none;
        }
        
        /* Existing styles continue below */
        .player-container {
            background-color: rgb(70, 86, 78);
            height: 152px; /* Exact height to prevent resizing */
            width: 100%;
            position: relative; /* Restore position */
            z-index: 10; /* Restore z-index */
            
            overflow: hidden;
            box-sizing: border-box;
        }
        
        /* Ensure the controls always have a higher z-index than other elements */
        .controls {
            position: relative;
            z-index: 100;
        }

        /* Windows XP Loading Screen Styles */
        .windows-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a246a; /* Classic Windows XP blue */
            z-index: 100000000000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }
        
        .windows-loading-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loading-content {
            text-align: center;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .loading-text {
            font-size: 24px;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .loading-description {
            margin-top: 15px;
            font-size: 14px;
            opacity: 0.8;
        }
        
        /* Windows XP logo animation */
        .windows-logo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 8px;
            width: 120px;
            height: 120px;
            margin: 0 auto 30px auto;
        }
        
        .windows-flag {
            border-radius: 5px;
            filter: drop-shadow(0 0 3px rgba(0, 0, 0, 0.3));
            animation: flag-wave 3s infinite;
            position: relative;
            overflow: hidden;
        }
        
        .windows-flag img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .windows-flag::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            mix-blend-mode: multiply;
            opacity: 0.7;
        }
        
        .windows-flag.red::after {
            background-color: #f65314;
        }
        
        .windows-flag.red {
            animation-delay: 0s;
        }
        
        .windows-flag.green::after {
            background-color: #7cbb00;
        }
        
        .windows-flag.green {
            animation-delay: 0.25s;
        }
        
        .windows-flag.blue::after {
            background-color: #00a1f1;
        }
        
        .windows-flag.blue {
            animation-delay: 0.5s;
        }
        
        .windows-flag.yellow::after {
            background-color: #ffbb00;
        }
        
        .windows-flag.yellow {
            animation-delay: 0.75s;
        }
        
        @keyframes flag-wave {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(0.9);
                opacity: 0.8;
            }
        }
        
        /* Mobile optimizations for loading screen */
        @media (max-width: 768px) {
            /* Removed loading bar container mobile styles */
            
            .loading-text {
                font-size: 20px;
            }
            
            .windows-logo {
                width: 100px;
                height: 100px;
            }
        }
        
        /* Share button style */
        .share-button {
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 25;
            background: linear-gradient(to bottom, #EDF6FF 0%, #D0E6F9 50%, #C4E0FC 51%, #ABD4FC 100%);
            border: 1px solid #7BA7E1;
            border-radius: 3px;
            width: auto;
            height: auto;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            transition: all 0.2s ease;
            font-family: 'Tahoma', sans-serif;
        }
        
        .share-button:hover {
            background: linear-gradient(to bottom, #F3FAFF 0%, #E2F0FC 50%, #D6EDFF 51%, #C1E3FF 100%);
            border-color: #8CB8F3;
            transform: scale(1.02);
            box-shadow: 0 3px 7px rgba(0,0,0,0.3);
        }
        
        .share-button:active {
            background: linear-gradient(to bottom, #C1E3FF 0%, #D6EDFF 50%, #E2F0FC 51%, #F3FAFF 100%);
            transform: scale(0.98);
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        
        @media (max-width: 768px) {
            /* Mobile-specific styles */
            /* ... existing code ... */
            
            /* Make share button visible on mobile and style it properly */
            .share-button {
                bottom: 12px;
                right: 12px;
                display: flex;
                background: linear-gradient(to bottom, #EDF6FF 0%, #D0E6F9 50%, #C4E0FC 51%, #ABD4FC 100%);
                box-shadow: 0 2px 8px rgba(0,0,0,0.4);
                border-radius: 3px;
                width: auto;
                padding: 8px 12px;
                border: 1px solid #7BA7E1;
                font-family: "Tahoma", sans-serif;
            }
            
            .share-button span {
                font-size: 14px;
                font-weight: bold;
                color: #000;
                text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
            }
            
            .share-button svg {
                width: 16px;
                height: 16px;
                color: #0046D5;
            }
            
            /* Enhanced controls for mobile */
            .controls {
                display: none !important;
                padding: 10px 5px;
                margin-top: 10px;
                justify-content: space-around;
            }
            
            .controls button {
                padding: 10px 15px;
                font-size: 14px;
                min-height: 44px;
                min-width: 80px;
                margin: 0 3px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            }
            
            .controls button:active {
                background: linear-gradient(to bottom, #C1E3FF 0%, #D6EDFF 50%, #E2F0FC 51%, #F3FAFF 100%);
                transform: scale(0.97);
            }
            
            /* Ensure maximize/expand works properly on mobile */
            .window.maximized {
                width: 100% !important;
                max-width: 100% !important;
                width: 100vw !important;
                height: calc(100vh - 40px) !important; /* Mobile has 70px taskbar */
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                margin: 0 !important;
                position: fixed !important;
                transition: all 0.3s ease;
                transform: none !important;
                border-radius: 0 !important;
                overflow: hidden !important;
                box-sizing: border-box !important;
                padding: 0 !important;
                bottom: 40px !important; /* Also update bottom */
                
                /* Windows glass effect for mobile */
                background-color: rgba(236, 233, 216, 0.7) !important;
                backdrop-filter: blur(15px) saturate(125%) !important;
                -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
                
                #wmp-window.maximized {
                height: calc(100vh - 40px) !important; /* Taskbar is 40px */
                bottom: 40px !important;
                    
                    /* Windows glass effect for mobile */
                background-color: rgba(236, 233, 216, 0.7) !important;
                backdrop-filter: blur(15px) saturate(125%) !important;
                -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                border: 1px solid rgba(255, 255, 255, 0.6) !important;
            }
            
            .ie-link {
                padding: 8px 5px;
            }
            
            /* Hide toggle and kaleidoscope buttons on mobile */
            .btn-toggle-play, 
            .btn-kaleidoscope, 
            .btn-debug {
                display: none !important;
            }
            
            /* Simplified controls for mobile */
            .controls {
                margin-top: 10px;
                display: none;
                justify-content: space-around;
                align-items: center;
                width: 100%;
            }
            
            .controls button {
                margin: 0 5px;
                height: 40px;  /* Bigger touch target */
                min-width: 80px;
                font-size: 14px;
                padding: 8px 12px;
                border: 2px solid rgba(255,255,255,0.2);
                box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                border-radius: 6px;
                z-index: 100;  /* Ensure buttons are above other elements */
            position: relative;
                touch-action: manipulation;  /* Improve touch handling */
                -webkit-tap-highlight-color: rgba(0,0,0,0);  /* Remove default mobile tap highlight */
            }
            
            /* Visual feedback for active state */
            .controls button:active {
                background-color: rgba(255,255,255,0.3) !important;
                transform: scale(0.97);
            }
            
            #spotify-click-detector {
                pointer-events: none; /* Ensure this doesn't block clicks */
            }
            
            .player-container {
                background-color: rgb(70, 86, 78);
                height: 152px; /* Exact height to prevent resizing */
                width: 100%;
            overflow: hidden;
                box-sizing: border-box;
            }
            
            #spotify-player {
                display: block;
                visibility: visible;
                position: relative;
                z-index: 0;
                overflow: hidden;
                background-color: white;
                height: 152px;
                width: 100%;
            }
            
            #spotify-embed-iframe, 
            #spotify-embed-iframe iframe {
                display: block;
                visibility: visible;
                position: relative;
                z-index: 0;
                background-color: white;
                height: 152px;
                width: 100%;
            }
            
            /* Debugging - Mark buttons to see if they're visibly rendered correctly */
            .controls:after {
                content: "";
                display: block;
                clear: both;
            }
            
            /* Modal visualizer container for mobile */
            .modal-visualizer-container {
                height: 352px;
                min-height: 250px;
                z-index: 5;
            }
            
            /* Ensure WMP window has proper z-index */
            #wmp-window {
                z-index: 1000;
                position: relative;
            }
            
            /* Fix for any potential issues with bubbling */
            html, body {
                touch-action: manipulation;
                -webkit-overflow-scrolling: touch;
            }
            
            /* Make share button more visible on mobile */
            .share-button {
                width: 44px;
                height: 44px;
                bottom: 12px;
                right: 12px;
                background-color: rgba(255, 255, 255, 0.95);
                box-shadow: 0 2px 8px rgba(0,0,0,0.4);
            }
            
            .share-button svg {
                width: 20px;
                height: 20px;
            }
            
            /* Expanded view for mobile */
            @media (max-width: 768px) {
                .window.maximized .modal-visualizer-container {
                    height: calc(100vh - 380px) !important;
                    min-height: 300px !important;
                    transition: height 0.3s ease;
                    visibility: visible !important;
                    display: block !important;
                    border: 1px solid rgba(255, 255, 255, 0.4) !important;
                    background-color: rgba(0, 0, 0, 0.7) !important;
                    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3) !important;
                }
                
                /* Enhanced Windows title bar for maximized state on mobile */
                .window.maximized .title-bar {
                    background: linear-gradient(180deg, rgba(40, 110, 220, 0.9) 0%, rgba(36, 100, 210, 0.9) 50%, rgba(30, 90, 200, 0.9) 100%) !important;
                    backdrop-filter: blur(10px) !important;
                    -webkit-backdrop-filter: blur(10px) !important;
                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2) !important;
                    padding: 8px 10px !important; /* Slightly larger padding for mobile */
                    border-bottom: 1px solid rgba(255, 255, 255, 0.3) !important;
                }
                
                .window.maximized {
                    width: 100% !important;
                    max-width: 100% !important;
                    width: 100vw !important;
                    height: calc(100vh - 40px) !important; /* Mobile has 70px taskbar */
                    top: 0 !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 !important;
                    position: fixed !important;
                    transition: all 0.3s ease;
                    transform: none !important;
                    border-radius: 0 !important;
                    overflow: hidden !important;
                    box-sizing: border-box !important;
                    padding: 0 !important;
                    bottom: 70px !important; /* Also update bottom */
                    
                    /* Enhanced Windows glass effect for mobile */
                    background-color: rgba(236, 233, 216, 0.7) !important;
                    backdrop-filter: blur(15px) saturate(125%) !important;
                    -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                    border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
                
                #wmp-window.maximized {
                    height: calc(100vh - 40px) !important; /* Taskbar is 40px */
                    bottom: 40px !important;
                    
                    /* Windows glass effect for mobile */
                    background-color: rgba(236, 233, 216, 0.7) !important;
                    backdrop-filter: blur(15px) saturate(125%) !important;
                    -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                    border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
            }
        }
        
        /* Handle screen orientation changes */
        @media (orientation: landscape) and (max-height: 500px) {
            .taskbar {
                height: 38px; /* Even smaller in landscape */
                padding: 0 2px;
            }
            
            .window {
                max-height: calc(100vh - 50px);
            }
            
            /* Adjust icons for landscape */
            .start-button {
                height: 32px;
                min-width: 65px;
                font-size: 12px;
            }
            
            .start-button img {
                height: 18px;
                width: 18px;
            }
            
            .quick-launch-icon {
                width: 32px; /* Increased from 24px */
                height: 32px; /* Increased from 24px */
            }
            
            .quick-launch-icon img {
                width: 24px; /* Increased from 14px to match desktop */
                height: 24px; /* Increased from 14px to match desktop */
                object-fit: contain;
            }
            
            .quick-launch {
                height: 30px;
            }
            
            .active-programs {
                height: 30px;
            }
            
            .program-button {
                height: 28px;
                min-width: 90px;
                font-size: 10px;
            }
            
            .taskbar-time {
                height: 26px;
                padding: 1px 5px;
            }
        }

        /* Base styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        /* Make sure buttons are always clickable */
        button {
            cursor: pointer;
            position: relative;
            z-index: 50;
        }
        
        /* Ensure the spotify-click-detector doesn't block button interaction */
        #spotify-click-detector {
            z-index: 1;
            position: absolute;
            pointer-events: none;
        }
        
        /* Existing styles continue below */
        .player-container {
            background-color: rgb(70, 86, 78);
            height: 152px; /* Exact height to prevent resizing */
            width: 100%;
            position: relative; /* Restore position */
            z-index: 10; /* Restore z-index */
            
            overflow: hidden;
            box-sizing: border-box;
        }
        
        /* Ensure the controls always have a higher z-index than other elements */
        .controls {
            position: relative;
            z-index: 100;
        }

        /* Windows XP Loading Screen Styles */
        .windows-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a246a; /* Classic Windows XP blue */
            z-index: 100000000000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }
        
        .windows-loading-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loading-content {
            text-align: center;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .loading-text {
            font-size: 24px;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .loading-description {
            margin-top: 15px;
            font-size: 14px;
            opacity: 0.8;
        }
        
        /* Windows XP logo animation */
        .windows-logo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 8px;
            width: 120px;
            height: 120px;
            margin: 0 auto 30px auto;
        }
        
        .windows-flag {
            border-radius: 5px;
            filter: drop-shadow(0 0 3px rgba(0, 0, 0, 0.3));
            animation: flag-wave 3s infinite;
            position: relative;
            overflow: hidden;
        }
        
        .windows-flag img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .windows-flag::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            mix-blend-mode: multiply;
            opacity: 0.7;
        }
        
        .windows-flag.red::after {
            background-color: #f65314;
        }
        
        .windows-flag.red {
            animation-delay: 0s;
        }
        
        .windows-flag.green::after {
            background-color: #7cbb00;
        }
        
        .windows-flag.green {
            animation-delay: 0.25s;
        }
        
        .windows-flag.blue::after {
            background-color: #00a1f1;
        }
        
        .windows-flag.blue {
            animation-delay: 0.5s;
        }
        
        .windows-flag.yellow::after {
            background-color: #ffbb00;
        }
        
        .windows-flag.yellow {
            animation-delay: 0.75s;
        }
        
        @keyframes flag-wave {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(0.9);
                opacity: 0.8;
            }
        }
        
        /* Mobile optimizations for loading screen */
        @media (max-width: 768px) {
            /* Removed loading bar container mobile styles */
            
            .loading-text {
                font-size: 20px;
            }
            
            .windows-logo {
                width: 100px;
                height: 100px;
            }
        }
        
        /* Share button style */
        .share-button {
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 25;
            background: linear-gradient(to bottom, #EDF6FF 0%, #D0E6F9 50%, #C4E0FC 51%, #ABD4FC 100%);
            border: 1px solid #7BA7E1;
            border-radius: 3px;
            width: auto;
            height: auto;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            transition: all 0.2s ease;
            font-family: 'Tahoma', sans-serif;
        }
        
        .share-button:hover {
            background: linear-gradient(to bottom, #F3FAFF 0%, #E2F0FC 50%, #D6EDFF 51%, #C1E3FF 100%);
            border-color: #8CB8F3;
            transform: scale(1.02);
            box-shadow: 0 3px 7px rgba(0,0,0,0.3);
        }
        
        .share-button:active {
            background: linear-gradient(to bottom, #C1E3FF 0%, #D6EDFF 50%, #E2F0FC 51%, #F3FAFF 100%);
            transform: scale(0.98);
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        
        @media (max-width: 768px) {
            /* Mobile-specific styles */
            /* ... existing code ... */
            
            /* Make share button visible on mobile and style it properly */
            .share-button {
                bottom: 12px;
                right: 12px;
                display: flex;
                background: linear-gradient(to bottom, #EDF6FF 0%, #D0E6F9 50%, #C4E0FC 51%, #ABD4FC 100%);
                box-shadow: 0 2px 8px rgba(0,0,0,0.4);
                border-radius: 3px;
                width: auto;
                padding: 8px 12px;
                border: 1px solid #7BA7E1;
                font-family: "Tahoma", sans-serif;
            }
            
            .share-button span {
                font-size: 14px;
                font-weight: bold;
                color: #000;
                text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
            }
            
            .share-button svg {
                width: 16px;
                height: 16px;
                color: #0046D5;
            }
            
            /* Enhanced controls for mobile */
            .controls {
                display: none !important;
                padding: 10px 5px;
                margin-top: 10px;
                justify-content: space-around;
            }
            
            .controls button {
                padding: 10px 15px;
                font-size: 14px;
                min-height: 44px;
                min-width: 80px;
                margin: 0 3px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            }
            
            .controls button:active {
                background: linear-gradient(to bottom, #C1E3FF 0%, #D6EDFF 50%, #E2F0FC 51%, #F3FAFF 100%);
                transform: scale(0.97);
            }
            
            /* Ensure maximize/expand works properly on mobile */
            .window.maximized {
                width: 100% !important;
                max-width: 100% !important;
                width: 100vw !important;
                height: calc(100vh - 40px) !important; /* Mobile has 70px taskbar */
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                margin: 0 !important;
                position: fixed !important;
                transition: all 0.3s ease;
                transform: none !important;
                border-radius: 0 !important;
                overflow: hidden !important;
                box-sizing: border-box !important;
                padding: 0 !important;
                bottom: 40px !important; /* Also update bottom */
                
                /* Windows glass effect for mobile */
                background-color: rgba(236, 233, 216, 0.7) !important;
                backdrop-filter: blur(15px) saturate(125%) !important;
                -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
                
                #wmp-window.maximized {
                height: calc(100vh - 40px) !important; /* Taskbar is 40px */
                bottom: 40px !important;
                    
                    /* Windows glass effect for mobile */
                background-color: rgba(236, 233, 216, 0.7) !important;
                backdrop-filter: blur(15px) saturate(125%) !important;
                -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                border: 1px solid rgba(255, 255, 255, 0.6) !important;
            }
            
            .ie-link {
                padding: 8px 5px;
            }
            
            /* Hide toggle and kaleidoscope buttons on mobile */
            .btn-toggle-play, 
            .btn-kaleidoscope, 
            .btn-debug {
                display: none !important;
            }
            
            /* Simplified controls for mobile */
            .controls {
                margin-top: 10px;
                display: none;
                justify-content: space-around;
                align-items: center;
                width: 100%;
            }
            
            .controls button {
                margin: 0 5px;
                height: 40px;  /* Bigger touch target */
                min-width: 80px;
                font-size: 14px;
                padding: 8px 12px;
                border: 2px solid rgba(255,255,255,0.2);
                box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                border-radius: 6px;
                z-index: 100;  /* Ensure buttons are above other elements */
            position: relative;
                touch-action: manipulation;  /* Improve touch handling */
                -webkit-tap-highlight-color: rgba(0,0,0,0);  /* Remove default mobile tap highlight */
            }
            
            /* Visual feedback for active state */
            .controls button:active {
                background-color: rgba(255,255,255,0.3) !important;
                transform: scale(0.97);
            }
            
            #spotify-click-detector {
                pointer-events: none; /* Ensure this doesn't block clicks */
            }
            
            .player-container {
                background-color: rgb(70, 86, 78);
                height: 152px; /* Exact height to prevent resizing */
                width: 100%;
            overflow: hidden;
            display: none;
                box-sizing: border-box;
            }
            
            #spotify-player {
                display: block;
                visibility: visible;
                position: relative;
                z-index: 0;
                overflow: hidden;
                background-color: white;
                height: 152px;
                width: 100%;
            }
            
            #spotify-embed-iframe, 
            #spotify-embed-iframe iframe {
                display: block;
                visibility: visible;
                position: relative;
                z-index: 0;
                background-color: white;
                height: 152px;
                width: 100%;
            }
            
            /* Debugging - Mark buttons to see if they're visibly rendered correctly */
            .controls:after {
                content: "";
                display: block;
                clear: both;
            }
            
            /* Modal visualizer container for mobile */
            .modal-visualizer-container {
                height: 352px;
                min-height: 250px;
                z-index: 5;
            }
            
            /* Ensure WMP window has proper z-index */
            #wmp-window {
                z-index: 1000;
                position: relative;
            }
            
            /* Fix for any potential issues with bubbling */
            html, body {
                touch-action: manipulation;
                -webkit-overflow-scrolling: touch;
            }
            
            /* Make share button more visible on mobile */
            .share-button {
                width: 44px;
                height: 44px;
                bottom: 12px;
                right: 12px;
                background-color: rgba(255, 255, 255, 0.95);
                box-shadow: 0 2px 8px rgba(0,0,0,0.4);
            }
            
            .share-button svg {
                width: 20px;
                height: 20px;
            }
            
            /* Expanded view for mobile */
            @media (max-width: 768px) {
                .window.maximized .modal-visualizer-container {
                    height: calc(100vh - 380px) !important;
                    min-height: 300px !important;
                    transition: height 0.3s ease;
                    visibility: visible !important;
                    display: block !important;
                    border: 1px solid rgba(255, 255, 255, 0.4) !important;
                    background-color: rgba(0, 0, 0, 0.7) !important;
                    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3) !important;
                }
                
                /* Enhanced Windows title bar for maximized state on mobile */
                .window.maximized .title-bar {
                    background: linear-gradient(180deg, rgba(40, 110, 220, 0.9) 0%, rgba(36, 100, 210, 0.9) 50%, rgba(30, 90, 200, 0.9) 100%) !important;
                    backdrop-filter: blur(10px) !important;
                    -webkit-backdrop-filter: blur(10px) !important;
                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2) !important;
                    padding: 8px 10px !important; /* Slightly larger padding for mobile */
                    border-bottom: 1px solid rgba(255, 255, 255, 0.3) !important;
                }
                
                .window.maximized {
                    width: 100% !important;
                    max-width: 100% !important;
                    width: 100vw !important;
                    height: calc(100vh - 40px) !important; /* Mobile has 70px taskbar */
                    top: 0 !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 !important;
                    position: fixed !important;
                    transition: all 0.3s ease;
                    transform: none !important;
                    border-radius: 0 !important;
                    overflow: hidden !important;
                    box-sizing: border-box !important;
                    padding: 0 !important;
                    bottom: 70px !important; /* Also update bottom */
                    
                    /* Enhanced Windows glass effect for mobile */
                    background-color: rgba(236, 233, 216, 0.7) !important;
                    backdrop-filter: blur(15px) saturate(125%) !important;
                    -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                    border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
                
                #wmp-window.maximized {
                    height: calc(100vh - 40px) !important; /* Taskbar is 40px */
                    bottom: 40px !important;
                    
                    /* Windows glass effect for mobile */
                    background-color: rgba(236, 233, 216, 0.7) !important;
                    backdrop-filter: blur(15px) saturate(125%) !important;
                    -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                    border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
            }
        }
        
        /* Handle screen orientation changes */
        @media (orientation: landscape) and (max-height: 500px) {
            .taskbar {
                height: 38px; /* Even smaller in landscape */
                padding: 0 2px;
            }
            
            .window {
                max-height: calc(100vh - 50px);
            }
            
            /* Adjust icons for landscape */
            .start-button {
                height: 32px;
                min-width: 65px;
                font-size: 12px;
            }
            
            .start-button img {
                height: 18px;
                width: 18px;
            }
            
            .quick-launch-icon {
                width: 32px; /* Increased from 24px */
                height: 32px; /* Increased from 24px */
            }
            
            .quick-launch-icon img {
                width: 24px; /* Increased from 14px to match desktop */
                height: 24px; /* Increased from 14px to match desktop */
                object-fit: contain;
            }
            
            .quick-launch {
                height: 30px;
            }
            
            .active-programs {
                height: 30px;
            }
            
            .program-button {
                height: 28px;
                min-width: 90px;
                font-size: 10px;
            }
            
            .taskbar-time {
                height: 26px;
                padding: 1px 5px;
            }
        }

        /* Base styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        /* Make sure buttons are always clickable */
        button {
            cursor: pointer;
            position: relative;
            z-index: 50;
        }
        
        /* Ensure the spotify-click-detector doesn't block button interaction */
        #spotify-click-detector {
            z-index: 1;
            position: absolute;
            pointer-events: none;
        }
        
        /* Existing styles continue below */
        .player-container {
            background-color: rgb(70, 86, 78);
            height: 152px; /* Exact height to prevent resizing */
            width: 100%;
            position: relative; /* Restore position */
            z-index: 10; /* Restore z-index */
            
            overflow: hidden;
            box-sizing: border-box;
        }
        
        /* Ensure the controls always have a higher z-index than other elements */
        .controls {
            position: relative;
            z-index: 100;
        }

        /* Windows XP Loading Screen Styles */
        .windows-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a246a; /* Classic Windows XP blue */
            z-index: 100000000000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }
        
        .windows-loading-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loading-content {
            text-align: center;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .loading-text {
            font-size: 24px;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .loading-description {
            margin-top: 15px;
            font-size: 14px;
            opacity: 0.8;
        }
        
        /* Windows XP logo animation */
        .windows-logo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 8px;
            width: 120px;
            height: 120px;
            margin: 0 auto 30px auto;
        }
        
        .windows-flag {
            border-radius: 5px;
            filter: drop-shadow(0 0 3px rgba(0, 0, 0, 0.3));
            animation: flag-wave 3s infinite;
            position: relative;
            overflow: hidden;
        }
        
        .windows-flag img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .windows-flag::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            mix-blend-mode: multiply;
            opacity: 0.7;
        }
        
        .windows-flag.red::after {
            background-color: #f65314;
        }
        
        .windows-flag.red {
            animation-delay: 0s;
        }
        
        .windows-flag.green::after {
            background-color: #7cbb00;
        }
        
        .windows-flag.green {
            animation-delay: 0.25s;
        }
        
        .windows-flag.blue::after {
            background-color: #00a1f1;
        }
        
        .windows-flag.blue {
            animation-delay: 0.5s;
        }
        
        .windows-flag.yellow::after {
            background-color: #ffbb00;
        }
        
        .windows-flag.yellow {
            animation-delay: 0.75s;
        }
        
        @keyframes flag-wave {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(0.9);
                opacity: 0.8;
            }
        }
        
        /* Mobile optimizations for loading screen */
        @media (max-width: 768px) {
            /* Removed loading bar container mobile styles */
            
            .loading-text {
                font-size: 20px;
            }
            
            .windows-logo {
                width: 100px;
                height: 100px;
            }
        }
        
        /* Share button style */
        .share-button {
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 25;
            background: linear-gradient(to bottom, #EDF6FF 0%, #D0E6F9 50%, #C4E0FC 51%, #ABD4FC 100%);
            border: 1px solid #7BA7E1;
            border-radius: 3px;
            width: auto;
            height: auto;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            transition: all 0.2s ease;
            font-family: 'Tahoma', sans-serif;
        }
        
        .share-button:hover {
            background: linear-gradient(to bottom, #F3FAFF 0%, #E2F0FC 50%, #D6EDFF 51%, #C1E3FF 100%);
            border-color: #8CB8F3;
            transform: scale(1.02);
            box-shadow: 0 3px 7px rgba(0,0,0,0.3);
        }
        
        .share-button:active {
            background: linear-gradient(to bottom, #C1E3FF 0%, #D6EDFF 50%, #E2F0FC 51%, #F3FAFF 100%);
            transform: scale(0.98);
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        
        @media (max-width: 768px) {
            /* Mobile-specific styles */
            /* ... existing code ... */
            
            /* Make share button visible on mobile and style it properly */
            .share-button {
                bottom: 12px;
                right: 12px;
                display: flex;
                background: linear-gradient(to bottom, #EDF6FF 0%, #D0E6F9 50%, #C4E0FC 51%, #ABD4FC 100%);
                box-shadow: 0 2px 8px rgba(0,0,0,0.4);
                border-radius: 3px;
                width: auto;
                padding: 8px 12px;
                border: 1px solid #7BA7E1;
                font-family: "Tahoma", sans-serif;
            }
            
            .share-button span {
                font-size: 14px;
                font-weight: bold;
                color: #000;
                text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
            }
            
            .share-button svg {
                width: 16px;
                height: 16px;
                color: #0046D5;
            }
            
            /* Enhanced controls for mobile */
            .controls {
                display: none !important;
                padding: 10px 5px;
                margin-top: 10px;
                justify-content: space-around;
            }
            
            .controls button {
                padding: 10px 15px;
                font-size: 14px;
                min-height: 44px;
                min-width: 80px;
                margin: 0 3px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            }
            
            .controls button:active {
                background: linear-gradient(to bottom, #C1E3FF 0%, #D6EDFF 50%, #E2F0FC 51%, #F3FAFF 100%);
                transform: scale(0.97);
            }
            
            /* Ensure maximize/expand works properly on mobile */
            .window.maximized {
                width: 100% !important;
                max-width: 100% !important;
                width: 100vw !important;
                height: calc(100vh - 40px) !important; /* Mobile has 70px taskbar */
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                margin: 0 !important;
                position: fixed !important;
                transition: all 0.3s ease;
                transform: none !important;
                border-radius: 0 !important;
                overflow: hidden !important;
                box-sizing: border-box !important;
                padding: 0 !important;
                bottom: 40px !important; /* Also update bottom */
                
                /* Windows glass effect for mobile */
                background-color: rgba(236, 233, 216, 0.7) !important;
                backdrop-filter: blur(15px) saturate(125%) !important;
                -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                border: 1px solid rgba(255, 255, 255, 0.6) !important;
            }
            
            #wmp-window.maximized {
                height: calc(100vh - 40px) !important; /* Taskbar is 40px */
                bottom: 40px !important;
                
                /* Windows glass effect for mobile */
                background-color: rgba(236, 233, 216, 0.7) !important;
                backdrop-filter: blur(15px) saturate(125%) !important;
                -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                border: 1px solid rgba(255, 255, 255, 0.6) !important;
            }
            
            .ie-link {
                padding: 8px 5px;
            }
            
            /* Hide toggle and kaleidoscope buttons on mobile */
            .btn-toggle-play, 
            .btn-kaleidoscope, 
            .btn-debug {
                display: none !important;
            }
            
            /* Simplified controls for mobile */
            .controls {
                margin-top: 10px;
                display: none;
                justify-content: space-around;
                align-items: center;
                width: 100%;
            }
            
            .controls button {
                margin: 0 5px;
                height: 40px;  /* Bigger touch target */
                min-width: 80px;
                font-size: 14px;
                padding: 8px 12px;
                border: 2px solid rgba(255,255,255,0.2);
                box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                border-radius: 6px;
                z-index: 100;  /* Ensure buttons are above other elements */
            position: relative;
                touch-action: manipulation;  /* Improve touch handling */
                -webkit-tap-highlight-color: rgba(0,0,0,0);  /* Remove default mobile tap highlight */
            }
            
            /* Visual feedback for active state */
            .controls button:active {
                background-color: rgba(255,255,255,0.3) !important;
                transform: scale(0.97);
            }
            
            #spotify-click-detector {
                pointer-events: none; /* Ensure this doesn't block clicks */
            }
            
            .player-container {
                background-color: rgb(70, 86, 78);
                height: 152px; /* Exact height to prevent resizing */
                width: 100%;
            overflow: hidden;
            display: none;
                box-sizing: border-box;
            }
            
            #spotify-player {
                display: block;
                visibility: visible;
                position: relative;
                z-index: 0;
                overflow: hidden;
                background-color: white;
                height: 152px;
                width: 100%;
            }
            
            #spotify-embed-iframe, 
            #spotify-embed-iframe iframe {
                display: block;
                visibility: visible;
                position: relative;
                z-index: 0;
                background-color: white;
                height: 152px;
                width: 100%;
            }
            
            /* Debugging - Mark buttons to see if they're visibly rendered correctly */
            .controls:after {
                content: "";
                display: block;
                clear: both;
            }
            
            /* Modal visualizer container for mobile */
            .modal-visualizer-container {
                height: 352px;
                min-height: 250px;
                z-index: 5;
            }
            
            /* Ensure WMP window has proper z-index */
            #wmp-window {
                z-index: 1000;
                position: relative;
            }
            
            /* Fix for any potential issues with bubbling */
            html, body {
                touch-action: manipulation;
                -webkit-overflow-scrolling: touch;
            }
            
            /* Make share button more visible on mobile */
            .share-button {
                width: 44px;
                height: 44px;
                bottom: 12px;
                right: 12px;
                background-color: rgba(255, 255, 255, 0.95);
                box-shadow: 0 2px 8px rgba(0,0,0,0.4);
            }
            
            .share-button svg {
                width: 20px;
                height: 20px;
            }
            
            /* Expanded view for mobile */
            @media (max-width: 768px) {
                .window.maximized .modal-visualizer-container {
                    height: calc(100vh - 380px) !important;
                    min-height: 300px !important;
                    transition: height 0.3s ease;
                    visibility: visible !important;
                    display: block !important;
                    border: 1px solid rgba(255, 255, 255, 0.4) !important;
                    background-color: rgba(0, 0, 0, 0.7) !important;
                    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3) !important;
                }
                
                /* Enhanced Windows title bar for maximized state on mobile */
                .window.maximized .title-bar {
                    background: linear-gradient(180deg, rgba(40, 110, 220, 0.9) 0%, rgba(36, 100, 210, 0.9) 50%, rgba(30, 90, 200, 0.9) 100%) !important;
                    backdrop-filter: blur(10px) !important;
                    -webkit-backdrop-filter: blur(10px) !important;
                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2) !important;
                    padding: 8px 10px !important; /* Slightly larger padding for mobile */
                    border-bottom: 1px solid rgba(255, 255, 255, 0.3) !important;
                }
                
                .window.maximized {
                    width: 100% !important;
                    max-width: 100% !important;
                    width: 100vw !important;
                    height: calc(100vh - 40px) !important; /* Mobile has 70px taskbar */
                    top: 0 !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 !important;
                    position: fixed !important;
                    transition: all 0.3s ease;
                    transform: none !important;
                    border-radius: 0 !important;
                    overflow: hidden !important;
                    box-sizing: border-box !important;
                    padding: 0 !important;
                    bottom: 70px !important; /* Also update bottom */
                    
                    /* Enhanced Windows glass effect for mobile */
                    background-color: rgba(236, 233, 216, 0.7) !important;
                    backdrop-filter: blur(15px) saturate(125%) !important;
                    -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                    border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
                
                #wmp-window.maximized {
                    height: calc(100vh - 40px) !important; /* Taskbar is 40px */
                    bottom: 40px !important;
                    
                    /* Windows glass effect for mobile */
                    background-color: rgba(236, 233, 216, 0.7) !important;
                    backdrop-filter: blur(15px) saturate(125%) !important;
                    -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                    border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
            }
        }
        
        /* Handle screen orientation changes */
        @media (orientation: landscape) and (max-height: 500px) {
            .taskbar {
                height: 38px; /* Even smaller in landscape */
                padding: 0 2px;
            }
            
            .window {
                max-height: calc(100vh - 50px);
            }
            
            /* Adjust icons for landscape */
            .start-button {
                height: 32px;
                min-width: 65px;
                font-size: 12px;
            }
            
            .start-button img {
                height: 18px;
                width: 18px;
            }
            
            .quick-launch-icon {
                width: 32px; /* Increased from 24px */
                height: 32px; /* Increased from 24px */
            }
            
            .quick-launch-icon img {
                width: 24px; /* Increased from 14px to match desktop */
                height: 24px; /* Increased from 14px to match desktop */
                object-fit: contain;
            }
            
            .quick-launch {
                height: 30px;
            }
            
            .active-programs {
                height: 30px;
            }
            
            .program-button {
                height: 28px;
                min-width: 90px;
                font-size: 10px;
            }
            
            .taskbar-time {
                height: 26px;
                padding: 1px 5px;
            }
        }

        /* Base styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        /* Make sure buttons are always clickable */
        button {
            cursor: pointer;
            position: relative;
            z-index: 50;
        }
        
        /* Ensure the spotify-click-detector doesn't block button interaction */
        #spotify-click-detector {
            z-index: 1;
            position: absolute;
            pointer-events: none;
        }
        
        /* Existing styles continue below */
        .player-container {
            background-color: rgb(70, 86, 78);
            height: 152px; /* Exact height to prevent resizing */
            width: 100%;
            position: relative; /* Restore position */
            z-index: 10; /* Restore z-index */
            
            overflow: hidden;
            box-sizing: border-box;
        }
        
        /* Ensure the controls always have a higher z-index than other elements */
        .controls {
            position: relative;
            z-index: 100;
        }

        /* Windows XP Loading Screen Styles */
        .windows-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a246a; /* Classic Windows XP blue */
            z-index: 100000000000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }
        
        .windows-loading-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loading-content {
            text-align: center;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .loading-text {
            font-size: 24px;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .loading-description {
            margin-top: 15px;
            font-size: 14px;
            opacity: 0.8;
        }
        
        /* Windows XP logo animation */
        .windows-logo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 8px;
            width: 120px;
            height: 120px;
            margin: 0 auto 30px auto;
        }
        
        .windows-flag {
            border-radius: 5px;
            filter: drop-shadow(0 0 3px rgba(0, 0, 0, 0.3));
            animation: flag-wave 3s infinite;
            position: relative;
            overflow: hidden;
        }
        
        .windows-flag img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .windows-flag::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            mix-blend-mode: multiply;
            opacity: 0.7;
        }
        
        .windows-flag.red::after {
            background-color: #f65314;
        }
        
        .windows-flag.red {
            animation-delay: 0s;
        }
        
        .windows-flag.green::after {
            background-color: #7cbb00;
        }
        
        .windows-flag.green {
            animation-delay: 0.25s;
        }
        
        .windows-flag.blue::after {
            background-color: #00a1f1;
        }
        
        .windows-flag.blue {
            animation-delay: 0.5s;
        }
        
        .windows-flag.yellow::after {
            background-color: #ffbb00;
        }
        
        .windows-flag.yellow {
            animation-delay: 0.75s;
        }
        
        @keyframes flag-wave {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(0.9);
                opacity: 0.8;
            }
        }
        
        /* Mobile optimizations for loading screen */
        @media (max-width: 768px) {
            /* Removed loading bar container mobile styles */
            
            .loading-text {
                font-size: 20px;
            }
            
            .windows-logo {
                width: 100px;
                height: 100px;
            }
        }
        
        /* Share button style */
        .share-button {
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 25;
            background: linear-gradient(to bottom, #EDF6FF 0%, #D0E6F9 50%, #C4E0FC 51%, #ABD4FC 100%);
            border: 1px solid #7BA7E1;
            border-radius: 3px;
            width: auto;
            height: auto;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            transition: all 0.2s ease;
            font-family: 'Tahoma', sans-serif;
        }
        
        .share-button:hover {
            background: linear-gradient(to bottom, #F3FAFF 0%, #E2F0FC 50%, #D6EDFF 51%, #C1E3FF 100%);
            border-color: #8CB8F3;
            transform: scale(1.02);
            box-shadow: 0 3px 7px rgba(0,0,0,0.3);
        }
        
        .share-button:active {
            background: linear-gradient(to bottom, #C1E3FF 0%, #D6EDFF 50%, #E2F0FC 51%, #F3FAFF 100%);
            transform: scale(0.98);
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        
        @media (max-width: 768px) {
            /* Mobile-specific styles */
            /* ... existing code ... */
            
            /* Make share button visible on mobile and style it properly */
            .share-button {
                bottom: 12px;
                right: 12px;
                display: flex;
                background: linear-gradient(to bottom, #EDF6FF 0%, #D0E6F9 50%, #C4E0FC 51%, #ABD4FC 100%);
                box-shadow: 0 2px 8px rgba(0,0,0,0.4);
                border-radius: 3px;
                width: auto;
                padding: 8px 12px;
                border: 1px solid #7BA7E1;
                font-family: "Tahoma", sans-serif;
            }
            
            .share-button span {
                font-size: 14px;
                font-weight: bold;
                color: #000;
                text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
            }
            
            .share-button svg {
                width: 16px;
                height: 16px;
                color: #0046D5;
            }
            
            /* Enhanced controls for mobile */
            .controls {
                display: none !important;
                padding: 10px 5px;
                margin-top: 10px;
                justify-content: space-around;
            }
            
            .controls button {
                padding: 10px 15px;
                font-size: 14px;
                min-height: 44px;
                min-width: 80px;
                margin: 0 3px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            }
            
            .controls button:active {
                background: linear-gradient(to bottom, #C1E3FF 0%, #D6EDFF 50%, #E2F0FC 51%, #F3FAFF 100%);
                transform: scale(0.97);
            }
            
            /* Ensure maximize/expand works properly on mobile */
            .window.maximized {
                width: 100% !important;
                max-width: 100% !important;
                width: 100vw !important;
                height: calc(100vh - 40px) !important; /* Mobile has 70px taskbar */
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                margin: 0 !important;
                position: fixed !important;
                transition: all 0.3s ease;
                transform: none !important;
                border-radius: 0 !important;
                overflow: hidden !important;
                box-sizing: border-box !important;
                padding: 0 !important;
                bottom: 40px !important; /* Also update bottom */
                
                /* Windows glass effect for mobile */
                background-color: rgba(236, 233, 216, 0.7) !important;
                backdrop-filter: blur(15px) saturate(125%) !important;
                -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                border: 1px solid rgba(255, 255, 255, 0.6) !important;
            }
            
            #wmp-window.maximized {
                height: calc(100vh - 40px) !important; /* Taskbar is 40px */
                bottom: 40px !important;
                
                /* Windows glass effect for mobile */
                background-color: rgba(236, 233, 216, 0.7) !important;
                backdrop-filter: blur(15px) saturate(125%) !important;
                -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                border: 1px solid rgba(255, 255, 255, 0.6) !important;
            }
            
            .ie-link {
                padding: 8px 5px;
            }
            
            /* Hide toggle and kaleidoscope buttons on mobile */
            .btn-toggle-play, 
            .btn-kaleidoscope, 
            .btn-debug {
                display: none !important;
            }
            
            /* Simplified controls for mobile */
            .controls {
                margin-top: 10px;
                display: none;
                justify-content: space-around;
                align-items: center;
                width: 100%;
            }
            
            .controls button {
                margin: 0 5px;
                height: 40px;  /* Bigger touch target */
                min-width: 80px;
                font-size: 14px;
                padding: 8px 12px;
                border: 2px solid rgba(255,255,255,0.2);
                box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                border-radius: 6px;
                z-index: 100;  /* Ensure buttons are above other elements */
                position: relative;
                touch-action: manipulation;  /* Improve touch handling */
                -webkit-tap-highlight-color: rgba(0,0,0,0);  /* Remove default mobile tap highlight */
            }
            
            /* Visual feedback for active state */
            .controls button:active {
                background-color: rgba(255,255,255,0.3) !important;
                transform: scale(0.97);
            }
            
            #spotify-click-detector {
                pointer-events: none; /* Ensure this doesn't block clicks */
            }
            
            .player-container {
                background-color: rgb(70, 86, 78);
                height: 152px; /* Exact height to prevent resizing */
                width: 100%;
            overflow: hidden;
            display: none;
                box-sizing: border-box;
            }
            
            #spotify-player {
                display: block;
                visibility: visible;
                position: relative;
                z-index: 0;
                overflow: hidden;
                background-color: white;
                height: 152px;
                width: 100%;
            }
            
            #spotify-embed-iframe, 
            #spotify-embed-iframe iframe {
                display: block;
                visibility: visible;
                position: relative;
                z-index: 0;
                background-color: white;
                height: 152px;
                width: 100%;
            }
            
            /* Debugging - Mark buttons to see if they're visibly rendered correctly */
            .controls:after {
                content: "";
                display: block;
                clear: both;
            }
            
            /* Modal visualizer container for mobile */
            .modal-visualizer-container {
                height: 352px;
                min-height: 250px;
                z-index: 5;
            }
            
            /* Ensure WMP window has proper z-index */
            #wmp-window {
                z-index: 1000;
                position: relative;
            }
            
            /* Fix for any potential issues with bubbling */
            html, body {
                touch-action: manipulation;
                -webkit-overflow-scrolling: touch;
            }
            
            /* Make share button more visible on mobile */
            .share-button {
                width: 44px;
                height: 44px;
                bottom: 12px;
                right: 12px;
                background-color: rgba(255, 255, 255, 0.95);
                box-shadow: 0 2px 8px rgba(0,0,0,0.4);
            }
            
            .share-button svg {
                width: 20px;
                height: 20px;
            }
            
            /* Expanded view for mobile */
            @media (max-width: 768px) {
                .window.maximized .modal-visualizer-container {
                    height: calc(100vh - 380px) !important;
                    min-height: 300px !important;
                    transition: height 0.3s ease;
                    visibility: visible !important;
                    display: block !important;
                    border: 1px solid rgba(255, 255, 255, 0.4) !important;
                    background-color: rgba(0, 0, 0, 0.7) !important;
                    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3) !important;
                }
                
                /* Enhanced Windows title bar for maximized state on mobile */
                .window.maximized .title-bar {
                    background: linear-gradient(180deg, rgba(40, 110, 220, 0.9) 0%, rgba(36, 100, 210, 0.9) 50%, rgba(30, 90, 200, 0.9) 100%) !important;
                    backdrop-filter: blur(10px) !important;
                    -webkit-backdrop-filter: blur(10px) !important;
                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2) !important;
                    padding: 8px 10px !important; /* Slightly larger padding for mobile */
                    border-bottom: 1px solid rgba(255, 255, 255, 0.3) !important;
                }
                
                .window.maximized {
                    width: 100% !important;
                    max-width: 100% !important;
                    width: 100vw !important;
                    height: calc(100vh - 40px) !important; /* Mobile has 70px taskbar */
                    top: 0 !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 !important;
                    position: fixed !important;
                    transition: all 0.3s ease;
                    transform: none !important;
                    border-radius: 0 !important;
                    overflow: hidden !important;
                    box-sizing: border-box !important;
                    padding: 0 !important;
                    bottom: 70px !important; /* Also update bottom */
                    
                    /* Enhanced Windows glass effect for mobile */
                    background-color: rgba(236, 233, 216, 0.7) !important;
                    backdrop-filter: blur(15px) saturate(125%) !important;
                    -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                    border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
                
                #wmp-window.maximized {
                    height: calc(100vh - 40px) !important; /* Taskbar is 40px */
                    bottom: 40px !important;
                    
                    /* Windows glass effect for mobile */
                    background-color: rgba(236, 233, 216, 0.7) !important;
                    backdrop-filter: blur(15px) saturate(125%) !important;
                    -webkit-backdrop-filter: blur(15px) saturate(125%) !important;
                    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3) !important;
                    border: 1px solid rgba(255, 255, 255, 0.6) !important;
                }
            }
        }
        
        /* Handle screen orientation changes */
        @media (orientation: landscape) and (max-height: 500px) {
            .taskbar {
                height: 38px; /* Even smaller in landscape */
                padding: 0 2px;
            }
            
            .window {
                max-height: calc(100vh - 50px);
            }
            
            /* Adjust icons for landscape */
            .start-button {
                height: 32px;
                min-width: 65px;
                font-size: 12px;
            }
            
            .start-button img {
                height: 18px;
                width: 18px;
            }
            
            .quick-launch-icon {
                width: 32px; /* Increased from 24px */
                height: 32px; /* Increased from 24px */
            }
            
            .quick-launch-icon img {
                width: 24px; /* Increased from 14px to match desktop */
                height: 24px; /* Increased from 14px to match desktop */
                object-fit: contain;
            }
            
            .quick-launch {
                height: 30px;
            }
            
            .active-programs {
                height: 30px;
            }
            
            .program-button {
                height: 28px;
                min-width: 90px;
                font-size: 10px;
            }
            
            .taskbar-time {
                height: 26px;
                padding: 1px 5px;
            }
        }

        /* Base styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        /* Make sure buttons are always clickable */
        button {
            cursor: pointer;
            position: relative;
            z-index: 50;
        }
        
        /* Ensure the spotify-click-detector doesn't block button interaction */
        #spotify-click-detector {
            z-index: 1;
            position: absolute;
            pointer-events: none;
        }
        
        /* Existing styles continue below */
        .player-container {
            background-color: rgb(70, 86, 78);
            height: 152px; /* Exact height to prevent resizing */
            width: 100%;
            position: relative; /* Restore position */
            z-index: 10; /* Restore z-index */
            
            overflow: hidden;
            box-sizing: border-box;
        }
        
        /* Ensure the controls always have a higher z-index than other elements */
        .controls {
            position: relative;
            z-index: 100;
        }

        /* Windows XP Loading Screen Styles */
        .windows-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a246a; /* Classic Windows XP blue */
            z-index: 100000000000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }
        
        .windows-loading-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loading-content {
            text-align: center;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .loading-text {
            font-size: 24px;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .loading-description {
            margin-top: 15px;
            font-size: 14px;
            opacity: 0.8;
        }
        
        /* Windows XP logo animation */
        .windows-logo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 8px;
            width: 120px;
            height: 120px;
            margin: 0 auto 30px auto;
        }
        
        .windows-flag {
            border-radius: 5px;
            filter: drop-shadow(0 0 3px rgba(0, 0, 0, 0.3));
            animation: flag-wave 3s infinite;
            position: relative;
            overflow: hidden;
        }
        
        .windows-flag img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .windows-flag::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            mix-blend-mode: multiply;
            opacity: 0.7;
        }
        
        .windows-flag.red::after {
            background-color: #f65314;
        }
        
        .windows-flag.red {
            animation-delay: 0s;
        }
        
        .windows-flag.green::after {
            background-color: #7cbb00;
        }
        
        .windows-flag.green {
            animation-delay: 0.25s;
        }
        
        .windows-flag.blue::after {
            background-color: #00a1f1;
        }
        
        .windows-flag.blue {
            animation-delay: 0.5s;
        }
        
        .windows-flag.yellow::after {
            background-color: #ffbb00;
        }
        
        .windows-flag.yellow {
            animation-delay: 0.75s;
        }
        
        @keyframes flag-wave {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(0.9);
                opacity: 0.8;
            }
        }
        
        /* Mobile optimizations for loading screen */
        @media (max-width: 768px) {
            /* Removed loading bar container mobile styles */
            
            .loading-text {
                font-size: 20px;
            }
            
            .windows-logo {
                width: 100px;
                height: 100px;
            }
        }
        
        /* Share button style */
        .share-button {
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 25;
            background: linear-gradient(to bottom, #EDF6FF 0%, #D0E6F9 50%, #C4E0FC 51%, #ABD4FC 100%);
            border: 1px solid #7BA7E1;
            border-radius: 3px;
            width: auto;
            height: auto;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            transition: all 0.2s ease;
            font-family: 'Tahoma', sans-serif;
        }
        
        .share-button:hover {
            gap: 10px;
            margin-top: 10px;
            margin-bottom: 10px;
        }
        
        /* Reset any fixed width that might be interfering with maximization */
        #wmp-window {
            max-width: 800px; /* Default max-width */
            width: auto; /* Let it size naturally */
            transition: all 0.3s ease;
        }
        
        #wmp-window.maximized {
            max-width: none !important; /* Override max-width when maximized */
        }

     

        .window.maximized .title-bar-controls button:hover {
            background-color: rgba(255, 255, 255, 0.3) !important;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.3) !important;
        }

        /* Special styling for close button */
        .window.maximized .title-bar-controls button[aria-label="Close"] {
            background-color: rgba(232, 17, 35, 0.7) !important; /* Windows close button red */
            /* Do not override the original background-image */
        }

        .window.maximized .title-bar-controls button[aria-label="Close"]:hover {
            background-color: rgba(232, 17, 35, 0.9) !important;
            box-shadow: 0 0 5px rgba(232, 17, 35, 0.5) !important;
        }
        .window .window-body {
            margin: 0 !important;

        }
        /* Remove 8px margin from window-body when maximized */
        .window.maximized .window-body {
            margin: 0 !important;
            background-color: transparent !important; /* Windows classic background color */
            border-top: none !important;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1) !important;
        }

        /* Add styles for Venerus Spotify mode */
        .venerus-spotify-mode .player-container {
            height: 100% !important;
            max-height: none !important;
        }
        
        .venerus-spotify-mode #spotify-player {
            height: 100% !important;
            max-height: none !important;
        }
        
        .venerus-spotify-mode .window-body {
            height: calc(100% - 22px) !important; /* Account for title bar */
            display: flex !important;
            flex-direction: column !important;
        }
   